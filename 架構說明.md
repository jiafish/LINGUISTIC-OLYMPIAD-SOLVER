# 網站架構說明

## 📋 當前架構：單頁應用（SPA）

### 為什麼選擇這種方式？

1. **資料傳遞需求**
   - 從 index → loading → result 需要傳遞：
     - 上傳的檔案（Problem PDF、Answer PDF）
     - 選擇的題型（Phonology、Semantics 等）
     - API 回傳的結果資料
   - 在 SPA 中，這些資料都存在 JavaScript 變數中，傳遞很容易

2. **使用者體驗**
   - 頁面切換流暢（沒有白屏重新載入）
   - Loading 頁面的 Fun Facts 輪播不會被打斷
   - 所有動畫效果更順暢

3. **API 串接**
   - 表單提交後，在同一頁面等待 API 回應
   - 結果直接顯示，不需要額外的資料傳遞機制

---

## 🔄 如果改用多頁面應用（MPA）

### 需要考慮的問題：

1. **資料傳遞方式**
   ```javascript
   // 方案1: 使用 sessionStorage
   sessionStorage.setItem('problemFile', fileData);
   window.location.href = 'loading.html';
   
   // 方案2: 使用 URL 參數（不適合檔案）
   window.location.href = 'loading.html?type=Phonology';
   ```

2. **檔案上傳處理**
   - 需要先上傳檔案到後端，獲得檔案ID
   - 然後用檔案ID傳遞到下一頁
   - 或者將檔案轉換為 base64（檔案會很大）

3. **API 呼叫位置**
   - 可以在 loading.html 頁面載入時呼叫 API
   - 或者在 index.html 上傳後立即呼叫，結果存到 sessionStorage

---

## 💡 CSS/JS 檔案分離

### 當前狀態：全部內嵌在 HTML 中

### 建議：分離成獨立檔案

**檔案結構：**
```
語奧網頁/
├── index.html          (只有HTML結構)
├── styles/
│   └── main.css        (所有CSS樣式)
├── scripts/
│   └── main.js         (所有JavaScript)
└── assets/
    └── (圖片等其他資源)
```

**優點：**
- ✅ 程式碼更清晰、易於維護
- ✅ 可以快取 CSS/JS 檔案（提升效能）
- ✅ 團隊協作更方便
- ✅ 檔案可以重用

**缺點：**
- ❌ 需要額外的 HTTP 請求（但現代瀏覽器會快取）

---

## 🎯 建議

### 方案 A：保持 SPA + 分離 CSS/JS（推薦）
- 保留流暢的使用者體驗
- 程式碼更模組化、易於維護
- **最佳平衡點**

### 方案 B：改為 MPA + 分離 CSS/JS
- 檔案結構更傳統
- 適合需要 SEO 或獨立頁面的情況
- 需要處理資料傳遞邏輯

---

## ❓ 請選擇您想要的架構

1. **保持 SPA，但分離 CSS/JS 檔案**（推薦）
2. **改為多頁面應用（MPA），並分離 CSS/JS**
3. **保持現狀（全部在 index.html 中）**

請告訴我您的選擇，我會立即為您調整！

